---
import liff from '@line/liff';
// LIFF SDKを読み込む
const LIFF_ID = '2004006139-5eWAxRAO'; // ここに実際のLIFF IDを設定
---
<html>
<head>
    <title>LINE Login</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script>
        async function main() {
            await liff.init({ liffId: LIFF_ID });
            if (!liff.isLoggedIn()) {
                liff.login();
            } else {
                const profile = await liff.getProfile();
                window.location.href = `/afterLogin?name=${encodeURIComponent(profile.displayName)}`;
            }
        }
        main();
    </script>
</head>
<body>
    <p>LINEログインを実行中...</p>
</body>
</html>